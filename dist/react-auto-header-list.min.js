!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactAutoHeaderList=e()}}(function(){return function e(t,r,n){function o(u,a){if(!r[u]){if(!t[u]){var f="function"==typeof require&&require;if(!a&&f)return f(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var l=r[u]={exports:{}};t[u][0].call(l.exports,function(e){var r=t[u][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e,t,r){for(var n=!0;n;){var o=e,i=t,u=r;n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var f=a.get;if(void 0===f)return;return f.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return;e=s,t=i,r=u,n=!0,a=s=void 0}},f="undefined"!=typeof window?window.React:"undefined"!=typeof e?e.React:null,s=n(f),l=function(e){function t(e){o(this,t),a(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={transformedData:{}},this.transformItems=this.transformItems.bind(this),this.renderSection=this.renderSection.bind(this),this.arraysEqual=this.arraysEqual.bind(this),this.arraysDifference=this.arraysDifference.bind(this),this.countProps=this.countProps.bind(this),this.objectEquals=this.objectEquals.bind(this)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){Array.isArray(this.props.items)&&this.transformItems(this.props.items)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(!this.arraysEqual(e.items,this.props.items)){var r=this.arraysDifference(e.items,this.props.items,function(e,r){return t.objectEquals(e,r)}),n=e.totalItemCount!==this.props.totalItemCount;this.transformItems(r,n)}}},{key:"arraysEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var r=e.length;r--;)if(!this.objectEquals(e[r],t[r]))return!1;return!0}},{key:"arraysDifference",value:function(e,t,r){var n=function(e,t,r){for(var n=-1,o=r.length;++n<o;)if(e(t,r[n]))return!0;return!1},o=function(e,t,r){return t.filter(function(t){return!n(e,t,r)})};return o(r,e,t).concat(o(r,t,e))}},{key:"countProps",value:function(e){var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t}},{key:"objectEquals",value:function(e,t){if(typeof e!=typeof t)return!1;if("function"==typeof e)return e.toString()===t.toString();if(e instanceof Object&&t instanceof Object){if(this.countProps(e)!==this.countProps(t))return!1;var r=!0;for(k in e)if(r=this.objectEquals(e[k],t[k]),!r)return!1;return!0}return e===t}},{key:"transformItems",value:function(e,t){var r=this,n=t?{}:this.state.transformedData;e.forEach(function(e){var t=r.props.getSectionHeaderTitle(e);n[t]||(n[t]=[]),n[t].push(e)}),this.setState({transformedData:n})}},{key:"renderSection",value:function(e,t,r){var n=this.props,o=n.renderHeader,i=n.renderItem;return s["default"].createElement("div",{key:r},o(e),t.map(i))}},{key:"render",value:function(){var e=this,t=this.props,r=t.totalItemCount,n=t.items,o=t.isFetching,i=t.onLoadMore,u=t.loadingLabel,a=this.state.transformedData,f=0===n.length;if(f&&o)return this.props.renderLoadingView(u);var l=n.length===r;if(f&&l)return this.props.renderEmptyView();var c=Object.keys(a).map(function(t,r){var n=a[t];return e.renderSection(t,n,r)});return s["default"].createElement("div",null,s["default"].createElement("div",null,c),s["default"].createElement("div",null,r>0&&!l&&this.props.renderLoadMoreButton(i,o)))}}]),t}(f.Component);l.propTypes={getSectionHeaderTitle:f.PropTypes.func.isRequired,isFetching:f.PropTypes.bool.isRequired,items:f.PropTypes.array.isRequired,loadingLabel:f.PropTypes.string,onLoadMore:f.PropTypes.func,totalItemCount:f.PropTypes.number.isRequired,renderEmptyView:f.PropTypes.func,renderHeader:f.PropTypes.func,renderItem:f.PropTypes.func.isRequired,renderLoadingView:f.PropTypes.func,renderLoadMoreButton:f.PropTypes.func},l.defaultProps={isFetching:!1,loadingLabel:"Loading...",totalItemCount:0,items:[],onLoadMore:function(){return null},renderItem:function(e,t){return s["default"].createElement("div",{key:t},s["default"].createElement("pre",null,JSON.stringify(e,null,2)))},renderHeader:function(e,t){return s["default"].createElement("div",{key:t},s["default"].createElement("h1",null,e))},getSectionHeaderTitle:function(e){return"#"},renderLoadingView:function(e){return s["default"].createElement("div",null,s["default"].createElement("h3",null,e||"Loading..."))},renderLoadMoreButton:function(e,t){return s["default"].createElement("div",null,s["default"].createElement("button",{onClick:e},t?"Load More":"Loading..."))},renderEmptyView:function(){return s["default"].createElement("div",null,s["default"].createElement("h3",null,"no data available"))}},r["default"]=l,t.exports=r["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define("ReactAutoHeaderList",["react"],t):"object"==typeof exports?exports.ReactAutoHeaderList=t(require("react")):e.ReactAutoHeaderList=t(e.react)}(window,function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";var n=function(e){};e.exports=function(e,t,r,o,i,u,a,f){if(n(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,o,i,u,a,f],l=0;(s=new Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function(){};o.thatReturns=n,o.thatReturnsFalse=n(!1),o.thatReturnsTrue=n(!0),o.thatReturnsNull=n(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,r){"use strict";var n=r(2),o=r(1),i=r(0);e.exports=function(){function e(e,t,r,n,u,a){a!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return r.checkPropTypes=n,r.PropTypes=r,r}},function(e,t,r){e.exports=r(3)()},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(5),u=f(i),a=f(r(4));function f(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={transformedData:{}},r.transformItems=r.transformItems.bind(r),r.renderSection=r.renderSection.bind(r),r.arraysEqual=r.arraysEqual.bind(r),r.arraysDifference=r.arraysDifference.bind(r),r.countProps=r.countProps.bind(r),r.objectEquals=r.objectEquals.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),o(t,[{key:"componentWillMount",value:function(){Array.isArray(this.props.items)&&this.transformItems(this.props.items)}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(!this.arraysEqual(e.items,this.props.items)){var r=this.arraysDifference(e.items,this.props.items,function(e,r){return t.objectEquals(e,r)}),n=e.totalItemCount!==this.props.totalItemCount;this.transformItems(r,n)}}},{key:"arraysEqual",value:function(e,t){if(e.length!==t.length)return!1;for(var r=e.length;r--;)if(!this.objectEquals(e[r],t[r]))return!1;return!0}},{key:"arraysDifference",value:function(e,t,r){var n=function(e,t,r){return t.filter(function(t){return!function(e,t,r){for(var n=-1,o=r.length;++n<o;)if(e(t,r[n]))return!0;return!1}(e,t,r)})};return n(r,e,t).concat(n(r,t,e))}},{key:"countProps",value:function(e){var t=0;for(k in e)e.hasOwnProperty(k)&&t++;return t}},{key:"objectEquals",value:function(e,t){if((void 0===e?"undefined":n(e))!==(void 0===t?"undefined":n(t)))return!1;if("function"==typeof e)return e.toString()===t.toString();if(e instanceof Object&&t instanceof Object){if(this.countProps(e)!==this.countProps(t))return!1;for(k in e)if(!this.objectEquals(e[k],t[k]))return!1;return!0}return e===t}},{key:"transformItems",value:function(e,t){var r=this,n=t?{}:this.state.transformedData;e.forEach(function(e){var t=r.props.getSectionHeaderTitle(e);n[t]||(n[t]=[]),n[t].push(e)}),this.setState({transformedData:n})}},{key:"renderSection",value:function(e,t,r){var n=this.props,o=n.renderHeader,i=n.renderItem;return u.default.createElement("div",{key:r,style:{display:"flex"}},o(e),t.map(i))}},{key:"render",value:function(){var e=this,t=this.props,r=t.totalItemCount,n=t.items,o=t.isFetching,i=t.onLoadMore,a=t.loadingLabel,f=this.state.transformedData,s=0===n.length;if(s&&o)return this.props.renderLoadingView(a);var c=n.length===r;if(s&&c)return this.props.renderEmptyView();var l=Object.keys(f).map(function(t,r){var n=f[t];return e.renderSection(t,n,r)});return u.default.createElement("div",{style:{display:"flex",width:"100%"}},u.default.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column"}},l),u.default.createElement("div",null,r>0&&!c&&this.props.renderLoadMoreButton(i,o)))}}]),t}();s.propTypes={getSectionHeaderTitle:a.default.func.isRequired,isFetching:a.default.bool.isRequired,items:a.default.array.isRequired,loadingLabel:a.default.string,onLoadMore:a.default.func,totalItemCount:a.default.number.isRequired,renderEmptyView:a.default.func,renderHeader:a.default.func,renderItem:a.default.func.isRequired,renderLoadingView:a.default.func,renderLoadMoreButton:a.default.func},s.defaultProps={isFetching:!1,loadingLabel:"Loading...",totalItemCount:0,items:[],onLoadMore:function(){return null},renderItem:function(e,t){return u.default.createElement("div",{key:t},u.default.createElement("pre",null,JSON.stringify(e,null,2)))},renderHeader:function(e,t){return u.default.createElement("div",{key:t},u.default.createElement("h1",null,e))},getSectionHeaderTitle:function(e){return"#"},renderLoadingView:function(e){return u.default.createElement("div",null,u.default.createElement("h3",null,e||"Loading..."))},renderLoadMoreButton:function(e,t){return u.default.createElement("div",null,u.default.createElement("button",{onClick:e},t?"Load More":"Loading..."))},renderEmptyView:function(){return u.default.createElement("div",null,u.default.createElement("h3",null,"no data available"))}},t.default=s}])});
//# sourceMappingURL=ReactAutoHeaderList.js.map